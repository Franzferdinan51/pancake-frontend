{"ast":null,"code":"var _jsxFileName = \"/home/duckets/Documents/pancake-frontend-1/src/views/TradingCompetition/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport { useProfile } from 'state/hooks';\nimport { Flex, Box, Image } from '@pancakeswap/uikit';\nimport styled from 'styled-components';\nimport { useTradingCompetitionContract } from 'hooks/useContract';\nimport useTheme from 'hooks/useTheme';\nimport { SmartContractPhases, CompetitionPhases, LIVE, FINISHED, CLAIM, OVER, REGISTRATION } from 'config/constants/trading-competition/easterPhases';\nimport { PrizesIcon, RanksIcon, RulesIcon } from './svgs';\nimport { DARKBG, DARKFILL, MIDBLUEBG, MIDBLUEBG_DARK, MIDBLUEFILL, MIDBLUEFILL_DARK, LIGHTBLUEBG, LIGHTBLUEBG_DARK, LIGHTBLUEFILL, LIGHTBLUEFILL_DARK } from './components/Section/sectionStyles';\nimport Countdown from './components/Countdown';\nimport YourScore from './components/YourScore';\nimport StormBunny from './pngs/storm.png';\nimport RibbonWithImage from './components/RibbonWithImage';\nimport HowToJoin from './components/HowToJoin';\nimport BattleBanner from './components/BattleBanner';\nimport Section from './components/Section';\nimport BattleCta from './components/BattleCta';\nimport PrizesInfo from './components/PrizesInfo';\nimport Rules from './components/Rules';\nimport TeamRanks from './components/TeamRanks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CompetitionPage = styled.div`\n  min-height: calc(100vh - 64px);\n`;\n_c = CompetitionPage;\nconst BannerFlex = styled(Flex)`\n  flex-direction: column;\n  ${({\n  theme\n}) => theme.mediaQueries.xl} {\n    padding-top: 10px;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n  }\n\n  @media screen and (min-width: 1920px) {\n    padding-top: 32px;\n  }\n`;\n_c2 = BannerFlex;\nconst BottomBunnyWrapper = styled(Box)`\n  display: none;\n\n  ${({\n  theme\n}) => theme.mediaQueries.md} {\n    display: flex;\n    margin-left: 40px;\n    width: 147px;\n    height: 200px;\n  }\n`;\n_c3 = BottomBunnyWrapper;\n\nconst TradingCompetition = () => {\n  _s();\n\n  const profileApiUrl = process.env.REACT_APP_API_PROFILE;\n  const {\n    account\n  } = useWeb3React();\n  const {\n    profile,\n    isLoading\n  } = useProfile();\n  const {\n    isDark\n  } = useTheme();\n  const tradingCompetitionContract = useTradingCompetitionContract();\n  const [currentPhase, setCurrentPhase] = useState(CompetitionPhases.LIVE);\n  const [registrationSuccessful, setRegistrationSuccessful] = useState(false);\n  const [claimSuccessful, setClaimSuccessful] = useState(false);\n  const [userTradingInformation, setUserTradingInformation] = useState({\n    hasRegistered: false,\n    hasUserClaimed: false,\n    userRewardGroup: '0',\n    userCakeRewards: '0',\n    userPointReward: '0',\n    canClaimNFT: false\n  });\n  const [globalLeaderboardInformation, setGlobalLeaderboardInformation] = useState(null);\n  const [userLeaderboardInformation, setUserLeaderboardInformation] = useState({\n    global: 0,\n    team: 0,\n    volume: 0,\n    next_rank: 0\n  }); // 1. Storm\n\n  const [team1LeaderboardInformation, setTeam1LeaderboardInformation] = useState({\n    teamId: 1,\n    leaderboardData: null\n  }); // 2. Flippers\n\n  const [team2LeaderboardInformation, setTeam2LeaderboardInformation] = useState({\n    teamId: 2,\n    leaderboardData: null\n  }); // 3. Cakers\n\n  const [team3LeaderboardInformation, setTeam3LeaderboardInformation] = useState({\n    teamId: 3,\n    leaderboardData: null\n  });\n  const isCompetitionLive = currentPhase.state === LIVE;\n  const hasCompetitionEnded = currentPhase.state === FINISHED || currentPhase.state === CLAIM || currentPhase.state === OVER;\n  const {\n    hasUserClaimed,\n    userCakeRewards,\n    userPointReward,\n    canClaimNFT\n  } = userTradingInformation;\n  const userCanClaimPrizes = currentPhase.state === CLAIM && !hasUserClaimed && (userCakeRewards !== '0' || userPointReward !== '0' || canClaimNFT);\n  const finishedAndPrizesClaimed = hasCompetitionEnded && account && hasUserClaimed;\n  const finishedAndNothingToClaim = hasCompetitionEnded && account && !userCanClaimPrizes;\n\n  const onRegisterSuccess = () => {\n    setRegistrationSuccessful(true);\n  };\n\n  const onClaimSuccess = () => {\n    setClaimSuccessful(true);\n  };\n\n  useEffect(() => {\n    const fetchCompetitionInfoContract = async () => {\n      const competitionStatus = await tradingCompetitionContract.methods.currentStatus().call();\n      setCurrentPhase(SmartContractPhases[competitionStatus]);\n    };\n\n    const fetchUserContract = async () => {\n      const user = await tradingCompetitionContract.methods.claimInformation(account).call();\n      const userObject = {\n        hasRegistered: user[0],\n        hasUserClaimed: user[1],\n        userRewardGroup: user[2],\n        userCakeRewards: user[3],\n        userPointReward: user[4],\n        canClaimNFT: user[5]\n      };\n      setUserTradingInformation(userObject);\n    };\n\n    if (account) {\n      fetchUserContract();\n    } else {\n      setUserTradingInformation({\n        hasRegistered: false,\n        hasUserClaimed: false,\n        userRewardGroup: '0',\n        userCakeRewards: '0',\n        userPointReward: '0',\n        canClaimNFT: false\n      });\n    }\n\n    fetchCompetitionInfoContract();\n  }, [account, registrationSuccessful, claimSuccessful, tradingCompetitionContract]);\n  useEffect(() => {\n    const fetchUserTradingStats = async () => {\n      const res = await fetch(`${profileApiUrl}/api/users/${account}`);\n      const data = await res.json();\n      setUserLeaderboardInformation(data.leaderboard);\n    }; // If user has not registered, user trading information will not be displayed and should not be fetched\n\n\n    if (account && userTradingInformation.hasRegistered) {\n      fetchUserTradingStats();\n    }\n  }, [account, userTradingInformation, profileApiUrl]);\n  useEffect(() => {\n    const fetchGlobalLeaderboardStats = async () => {\n      const res = await fetch(`${profileApiUrl}/api/leaderboard/global`);\n      const data = await res.json();\n      setGlobalLeaderboardInformation(data);\n    };\n\n    const fetchTeamsLeaderboardStats = async (teamId, callBack) => {\n      try {\n        const res = await fetch(`${profileApiUrl}/api/leaderboard/team/${teamId}`);\n        const data = await res.json();\n        callBack(data);\n      } catch (e) {\n        console.error(e);\n      }\n    };\n\n    fetchTeamsLeaderboardStats(1, data => setTeam1LeaderboardInformation(prevState => {\n      return { ...prevState,\n        leaderboardData: data\n      };\n    }));\n    fetchTeamsLeaderboardStats(2, data => setTeam2LeaderboardInformation(prevState => {\n      return { ...prevState,\n        leaderboardData: data\n      };\n    }));\n    fetchTeamsLeaderboardStats(3, data => setTeam3LeaderboardInformation(prevState => {\n      return { ...prevState,\n        leaderboardData: data\n      };\n    }));\n    fetchGlobalLeaderboardStats();\n  }, [profileApiUrl]); // Don't hide when loading. Hide if the account is connected && the user hasn't registered && the competition is live or finished\n\n  const shouldHideCta = !isLoading && account && !userTradingInformation.hasRegistered && (isCompetitionLive || hasCompetitionEnded);\n  return /*#__PURE__*/_jsxDEV(CompetitionPage, {\n    children: [/*#__PURE__*/_jsxDEV(Section, {\n      backgroundStyle: DARKBG,\n      svgFill: DARKFILL,\n      index: 5,\n      intersectComponent: shouldHideCta ? null : /*#__PURE__*/_jsxDEV(BattleCta, {\n        userTradingInformation: userTradingInformation,\n        currentPhase: currentPhase,\n        account: account,\n        isCompetitionLive: isCompetitionLive,\n        hasCompetitionEnded: hasCompetitionEnded,\n        userCanClaimPrizes: userCanClaimPrizes,\n        finishedAndPrizesClaimed: finishedAndPrizesClaimed,\n        finishedAndNothingToClaim: finishedAndNothingToClaim,\n        profile: profile,\n        isLoading: isLoading,\n        onRegisterSuccess: onRegisterSuccess,\n        onClaimSuccess: onClaimSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(BannerFlex, {\n        mb: shouldHideCta ? '0px' : '48px',\n        children: [/*#__PURE__*/_jsxDEV(Countdown, {\n          currentPhase: currentPhase,\n          hasCompetitionEnded: hasCompetitionEnded\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BattleBanner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      backgroundStyle: isDark ? MIDBLUEBG_DARK : MIDBLUEBG,\n      svgFill: isDark ? MIDBLUEFILL_DARK : MIDBLUEFILL,\n      index: 4,\n      intersectComponent: /*#__PURE__*/_jsxDEV(RibbonWithImage, {\n        imageComponent: /*#__PURE__*/_jsxDEV(RanksIcon, {\n          width: \"175px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 44\n        }, this),\n        ribbonDirection: \"up\",\n        children: \"Team Ranks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        mt: shouldHideCta ? '0px' : ['94px', null, '36px'],\n        mb: ['24px', null, '0'],\n        children: currentPhase.state === REGISTRATION ? /*#__PURE__*/_jsxDEV(HowToJoin, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(YourScore, {\n          currentPhase: currentPhase,\n          hasRegistered: userTradingInformation.hasRegistered,\n          userTradingInformation: userTradingInformation,\n          account: account,\n          profile: profile,\n          isLoading: isLoading,\n          userLeaderboardInformation: userLeaderboardInformation,\n          userCanClaimPrizes: userCanClaimPrizes,\n          finishedAndPrizesClaimed: finishedAndPrizesClaimed,\n          finishedAndNothingToClaim: finishedAndNothingToClaim,\n          onClaimSuccess: onClaimSuccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      index: 3,\n      intersectComponent: /*#__PURE__*/_jsxDEV(RibbonWithImage, {\n        imageComponent: /*#__PURE__*/_jsxDEV(PrizesIcon, {\n          width: \"175px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 44\n        }, this),\n        ribbonDirection: \"up\",\n        children: \"Prizes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        mt: \"54px\",\n        children: /*#__PURE__*/_jsxDEV(TeamRanks, {\n          team1LeaderboardInformation: team1LeaderboardInformation,\n          team2LeaderboardInformation: team2LeaderboardInformation,\n          team3LeaderboardInformation: team3LeaderboardInformation,\n          globalLeaderboardInformation: globalLeaderboardInformation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      backgroundStyle: isDark ? LIGHTBLUEBG_DARK : LIGHTBLUEBG,\n      svgFill: isDark ? LIGHTBLUEFILL_DARK : LIGHTBLUEFILL,\n      index: 2,\n      noIntersection: true,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        mb: \"78px\",\n        children: /*#__PURE__*/_jsxDEV(PrizesInfo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      index: 3,\n      intersectionPosition: \"top\",\n      intersectComponent: /*#__PURE__*/_jsxDEV(RibbonWithImage, {\n        imageComponent: /*#__PURE__*/_jsxDEV(RulesIcon, {\n          width: \"175px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 44\n        }, this),\n        ribbonDirection: \"up\",\n        children: \"Rules\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Rules, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      backgroundStyle: DARKBG,\n      svgFill: DARKFILL,\n      index: 4,\n      intersectionPosition: \"top\",\n      children: /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        children: [shouldHideCta ? null : /*#__PURE__*/_jsxDEV(Flex, {\n          height: \"fit-content\",\n          children: /*#__PURE__*/_jsxDEV(BattleCta, {\n            userTradingInformation: userTradingInformation,\n            currentPhase: currentPhase,\n            account: account,\n            isCompetitionLive: isCompetitionLive,\n            hasCompetitionEnded: hasCompetitionEnded,\n            userCanClaimPrizes: userCanClaimPrizes,\n            finishedAndPrizesClaimed: finishedAndPrizesClaimed,\n            finishedAndNothingToClaim: finishedAndNothingToClaim,\n            profile: profile,\n            isLoading: isLoading,\n            onRegisterSuccess: onRegisterSuccess,\n            onClaimSuccess: onClaimSuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(BottomBunnyWrapper, {\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: StormBunny,\n            width: 147,\n            height: 200\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TradingCompetition, \"FmSnzqAl6ShOqYomxR8cja3RMPA=\", false, function () {\n  return [useWeb3React, useProfile, useTheme, useTradingCompetitionContract];\n});\n\n_c4 = TradingCompetition;\nexport default TradingCompetition;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"CompetitionPage\");\n$RefreshReg$(_c2, \"BannerFlex\");\n$RefreshReg$(_c3, \"BottomBunnyWrapper\");\n$RefreshReg$(_c4, \"TradingCompetition\");","map":{"version":3,"sources":["/home/duckets/Documents/pancake-frontend-1/src/views/TradingCompetition/index.tsx"],"names":["React","useState","useEffect","useWeb3React","useProfile","Flex","Box","Image","styled","useTradingCompetitionContract","useTheme","SmartContractPhases","CompetitionPhases","LIVE","FINISHED","CLAIM","OVER","REGISTRATION","PrizesIcon","RanksIcon","RulesIcon","DARKBG","DARKFILL","MIDBLUEBG","MIDBLUEBG_DARK","MIDBLUEFILL","MIDBLUEFILL_DARK","LIGHTBLUEBG","LIGHTBLUEBG_DARK","LIGHTBLUEFILL","LIGHTBLUEFILL_DARK","Countdown","YourScore","StormBunny","RibbonWithImage","HowToJoin","BattleBanner","Section","BattleCta","PrizesInfo","Rules","TeamRanks","CompetitionPage","div","BannerFlex","theme","mediaQueries","xl","BottomBunnyWrapper","md","TradingCompetition","profileApiUrl","process","env","REACT_APP_API_PROFILE","account","profile","isLoading","isDark","tradingCompetitionContract","currentPhase","setCurrentPhase","registrationSuccessful","setRegistrationSuccessful","claimSuccessful","setClaimSuccessful","userTradingInformation","setUserTradingInformation","hasRegistered","hasUserClaimed","userRewardGroup","userCakeRewards","userPointReward","canClaimNFT","globalLeaderboardInformation","setGlobalLeaderboardInformation","userLeaderboardInformation","setUserLeaderboardInformation","global","team","volume","next_rank","team1LeaderboardInformation","setTeam1LeaderboardInformation","teamId","leaderboardData","team2LeaderboardInformation","setTeam2LeaderboardInformation","team3LeaderboardInformation","setTeam3LeaderboardInformation","isCompetitionLive","state","hasCompetitionEnded","userCanClaimPrizes","finishedAndPrizesClaimed","finishedAndNothingToClaim","onRegisterSuccess","onClaimSuccess","fetchCompetitionInfoContract","competitionStatus","methods","currentStatus","call","fetchUserContract","user","claimInformation","userObject","fetchUserTradingStats","res","fetch","data","json","leaderboard","fetchGlobalLeaderboardStats","fetchTeamsLeaderboardStats","callBack","e","console","error","prevState","shouldHideCta"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,KAApB,QAAiC,oBAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,6BAAT,QAA8C,mBAA9C;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,SACEC,mBADF,EAEEC,iBAFF,EAGEC,IAHF,EAIEC,QAJF,EAKEC,KALF,EAMEC,IANF,EAOEC,YAPF,QAQO,mDARP;AASA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,SAAhC,QAAiD,QAAjD;AACA,SACEC,MADF,EAEEC,QAFF,EAGEC,SAHF,EAIEC,cAJF,EAKEC,WALF,EAMEC,gBANF,EAOEC,WAPF,EAQEC,gBARF,EASEC,aATF,EAUEC,kBAVF,QAWO,oCAXP;AAYA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;;AAEA,MAAMC,eAAe,GAAGlC,MAAM,CAACmC,GAAI;AACnC;AACA,CAFA;KAAMD,e;AAIN,MAAME,UAAU,GAAGpC,MAAM,CAACH,IAAD,CAAO;AAChC;AACA,IAAI,CAAC;AAAEwC,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,YAAN,CAAmBC,EAAG;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAXA;MAAMH,U;AAaN,MAAMI,kBAAkB,GAAGxC,MAAM,CAACF,GAAD,CAAM;AACvC;AACA;AACA,IAAI,CAAC;AAAEuC,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,YAAN,CAAmBG,EAAG;AACzC;AACA;AACA;AACA;AACA;AACA,CATA;MAAMD,kB;;AAWN,MAAME,kBAAkB,GAAG,MAAM;AAAA;;AAC/B,QAAMC,aAAa,GAAGC,OAAO,CAACC,GAAR,CAAYC,qBAAlC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAcpD,YAAY,EAAhC;AACA,QAAM;AAAEqD,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAyBrD,UAAU,EAAzC;AACA,QAAM;AAAEsD,IAAAA;AAAF,MAAahD,QAAQ,EAA3B;AACA,QAAMiD,0BAA0B,GAAGlD,6BAA6B,EAAhE;AACA,QAAM,CAACmD,YAAD,EAAeC,eAAf,IAAkC5D,QAAQ,CAACW,iBAAiB,CAACC,IAAnB,CAAhD;AACA,QAAM,CAACiD,sBAAD,EAAyBC,yBAAzB,IAAsD9D,QAAQ,CAAC,KAAD,CAApE;AACA,QAAM,CAAC+D,eAAD,EAAkBC,kBAAlB,IAAwChE,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM,CAACiE,sBAAD,EAAyBC,yBAAzB,IAAsDlE,QAAQ,CAAC;AACnEmE,IAAAA,aAAa,EAAE,KADoD;AAEnEC,IAAAA,cAAc,EAAE,KAFmD;AAGnEC,IAAAA,eAAe,EAAE,GAHkD;AAInEC,IAAAA,eAAe,EAAE,GAJkD;AAKnEC,IAAAA,eAAe,EAAE,GALkD;AAMnEC,IAAAA,WAAW,EAAE;AANsD,GAAD,CAApE;AAQA,QAAM,CAACC,4BAAD,EAA+BC,+BAA/B,IAAkE1E,QAAQ,CAAC,IAAD,CAAhF;AACA,QAAM,CAAC2E,0BAAD,EAA6BC,6BAA7B,IAA8D5E,QAAQ,CAAC;AAC3E6E,IAAAA,MAAM,EAAE,CADmE;AAE3EC,IAAAA,IAAI,EAAE,CAFqE;AAG3EC,IAAAA,MAAM,EAAE,CAHmE;AAI3EC,IAAAA,SAAS,EAAE;AAJgE,GAAD,CAA5E,CAlB+B,CAwB/B;;AACA,QAAM,CAACC,2BAAD,EAA8BC,8BAA9B,IAAgElF,QAAQ,CAAC;AAAEmF,IAAAA,MAAM,EAAE,CAAV;AAAaC,IAAAA,eAAe,EAAE;AAA9B,GAAD,CAA9E,CAzB+B,CA0B/B;;AACA,QAAM,CAACC,2BAAD,EAA8BC,8BAA9B,IAAgEtF,QAAQ,CAAC;AAAEmF,IAAAA,MAAM,EAAE,CAAV;AAAaC,IAAAA,eAAe,EAAE;AAA9B,GAAD,CAA9E,CA3B+B,CA4B/B;;AACA,QAAM,CAACG,2BAAD,EAA8BC,8BAA9B,IAAgExF,QAAQ,CAAC;AAAEmF,IAAAA,MAAM,EAAE,CAAV;AAAaC,IAAAA,eAAe,EAAE;AAA9B,GAAD,CAA9E;AAEA,QAAMK,iBAAiB,GAAG9B,YAAY,CAAC+B,KAAb,KAAuB9E,IAAjD;AACA,QAAM+E,mBAAmB,GACvBhC,YAAY,CAAC+B,KAAb,KAAuB7E,QAAvB,IAAmC8C,YAAY,CAAC+B,KAAb,KAAuB5E,KAA1D,IAAmE6C,YAAY,CAAC+B,KAAb,KAAuB3E,IAD5F;AAGA,QAAM;AAAEqD,IAAAA,cAAF;AAAkBE,IAAAA,eAAlB;AAAmCC,IAAAA,eAAnC;AAAoDC,IAAAA;AAApD,MAAoEP,sBAA1E;AAEA,QAAM2B,kBAAkB,GACtBjC,YAAY,CAAC+B,KAAb,KAAuB5E,KAAvB,IACA,CAACsD,cADD,KAECE,eAAe,KAAK,GAApB,IAA2BC,eAAe,KAAK,GAA/C,IAAsDC,WAFvD,CADF;AAIA,QAAMqB,wBAAwB,GAAGF,mBAAmB,IAAIrC,OAAvB,IAAkCc,cAAnE;AACA,QAAM0B,yBAAyB,GAAGH,mBAAmB,IAAIrC,OAAvB,IAAkC,CAACsC,kBAArE;;AAEA,QAAMG,iBAAiB,GAAG,MAAM;AAC9BjC,IAAAA,yBAAyB,CAAC,IAAD,CAAzB;AACD,GAFD;;AAIA,QAAMkC,cAAc,GAAG,MAAM;AAC3BhC,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACD,GAFD;;AAIA/D,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgG,4BAA4B,GAAG,YAAY;AAC/C,YAAMC,iBAAiB,GAAG,MAAMxC,0BAA0B,CAACyC,OAA3B,CAAmCC,aAAnC,GAAmDC,IAAnD,EAAhC;AACAzC,MAAAA,eAAe,CAAClD,mBAAmB,CAACwF,iBAAD,CAApB,CAAf;AACD,KAHD;;AAKA,UAAMI,iBAAiB,GAAG,YAAY;AACpC,YAAMC,IAAI,GAAG,MAAM7C,0BAA0B,CAACyC,OAA3B,CAAmCK,gBAAnC,CAAoDlD,OAApD,EAA6D+C,IAA7D,EAAnB;AACA,YAAMI,UAAU,GAAG;AACjBtC,QAAAA,aAAa,EAAEoC,IAAI,CAAC,CAAD,CADF;AAEjBnC,QAAAA,cAAc,EAAEmC,IAAI,CAAC,CAAD,CAFH;AAGjBlC,QAAAA,eAAe,EAAEkC,IAAI,CAAC,CAAD,CAHJ;AAIjBjC,QAAAA,eAAe,EAAEiC,IAAI,CAAC,CAAD,CAJJ;AAKjBhC,QAAAA,eAAe,EAAEgC,IAAI,CAAC,CAAD,CALJ;AAMjB/B,QAAAA,WAAW,EAAE+B,IAAI,CAAC,CAAD;AANA,OAAnB;AAQArC,MAAAA,yBAAyB,CAACuC,UAAD,CAAzB;AACD,KAXD;;AAaA,QAAInD,OAAJ,EAAa;AACXgD,MAAAA,iBAAiB;AAClB,KAFD,MAEO;AACLpC,MAAAA,yBAAyB,CAAC;AACxBC,QAAAA,aAAa,EAAE,KADS;AAExBC,QAAAA,cAAc,EAAE,KAFQ;AAGxBC,QAAAA,eAAe,EAAE,GAHO;AAIxBC,QAAAA,eAAe,EAAE,GAJO;AAKxBC,QAAAA,eAAe,EAAE,GALO;AAMxBC,QAAAA,WAAW,EAAE;AANW,OAAD,CAAzB;AAQD;;AACDyB,IAAAA,4BAA4B;AAC7B,GAhCQ,EAgCN,CAAC3C,OAAD,EAAUO,sBAAV,EAAkCE,eAAlC,EAAmDL,0BAAnD,CAhCM,CAAT;AAkCAzD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMyG,qBAAqB,GAAG,YAAY;AACxC,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE1D,aAAc,cAAaI,OAAQ,EAAvC,CAAvB;AACA,YAAMuD,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACAlC,MAAAA,6BAA6B,CAACiC,IAAI,CAACE,WAAN,CAA7B;AACD,KAJD,CADc,CAMd;;;AACA,QAAIzD,OAAO,IAAIW,sBAAsB,CAACE,aAAtC,EAAqD;AACnDuC,MAAAA,qBAAqB;AACtB;AACF,GAVQ,EAUN,CAACpD,OAAD,EAAUW,sBAAV,EAAkCf,aAAlC,CAVM,CAAT;AAYAjD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM+G,2BAA2B,GAAG,YAAY;AAC9C,YAAML,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE1D,aAAc,yBAAlB,CAAvB;AACA,YAAM2D,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACApC,MAAAA,+BAA+B,CAACmC,IAAD,CAA/B;AACD,KAJD;;AAMA,UAAMI,0BAA0B,GAAG,OAAO9B,MAAP,EAAuB+B,QAAvB,KAAyD;AAC1F,UAAI;AACF,cAAMP,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAE1D,aAAc,yBAAwBiC,MAAO,EAAjD,CAAvB;AACA,cAAM0B,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACAI,QAAAA,QAAQ,CAACL,IAAD,CAAR;AACD,OAJD,CAIE,OAAOM,CAAP,EAAU;AACVC,QAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACD;AACF,KARD;;AAUAF,IAAAA,0BAA0B,CAAC,CAAD,EAAKJ,IAAD,IAC5B3B,8BAA8B,CAAEoC,SAAD,IAAe;AAC5C,aAAO,EAAE,GAAGA,SAAL;AAAgBlC,QAAAA,eAAe,EAAEyB;AAAjC,OAAP;AACD,KAF6B,CADN,CAA1B;AAKAI,IAAAA,0BAA0B,CAAC,CAAD,EAAKJ,IAAD,IAC5BvB,8BAA8B,CAAEgC,SAAD,IAAe;AAC5C,aAAO,EAAE,GAAGA,SAAL;AAAgBlC,QAAAA,eAAe,EAAEyB;AAAjC,OAAP;AACD,KAF6B,CADN,CAA1B;AAKAI,IAAAA,0BAA0B,CAAC,CAAD,EAAKJ,IAAD,IAC5BrB,8BAA8B,CAAE8B,SAAD,IAAe;AAC5C,aAAO,EAAE,GAAGA,SAAL;AAAgBlC,QAAAA,eAAe,EAAEyB;AAAjC,OAAP;AACD,KAF6B,CADN,CAA1B;AAKAG,IAAAA,2BAA2B;AAC5B,GAjCQ,EAiCN,CAAC9D,aAAD,CAjCM,CAAT,CAlG+B,CAqI/B;;AACA,QAAMqE,aAAa,GACjB,CAAC/D,SAAD,IAAcF,OAAd,IAAyB,CAACW,sBAAsB,CAACE,aAAjD,KAAmEsB,iBAAiB,IAAIE,mBAAxF,CADF;AAGA,sBACE,QAAC,eAAD;AAAA,4BACE,QAAC,OAAD;AACE,MAAA,eAAe,EAAEvE,MADnB;AAEE,MAAA,OAAO,EAAEC,QAFX;AAGE,MAAA,KAAK,EAAE,CAHT;AAIE,MAAA,kBAAkB,EAChBkG,aAAa,GAAG,IAAH,gBACX,QAAC,SAAD;AACE,QAAA,sBAAsB,EAAEtD,sBAD1B;AAEE,QAAA,YAAY,EAAEN,YAFhB;AAGE,QAAA,OAAO,EAAEL,OAHX;AAIE,QAAA,iBAAiB,EAAEmC,iBAJrB;AAKE,QAAA,mBAAmB,EAAEE,mBALvB;AAME,QAAA,kBAAkB,EAAEC,kBANtB;AAOE,QAAA,wBAAwB,EAAEC,wBAP5B;AAQE,QAAA,yBAAyB,EAAEC,yBAR7B;AASE,QAAA,OAAO,EAAEvC,OATX;AAUE,QAAA,SAAS,EAAEC,SAVb;AAWE,QAAA,iBAAiB,EAAEuC,iBAXrB;AAYE,QAAA,cAAc,EAAEC;AAZlB;AAAA;AAAA;AAAA;AAAA,cANN;AAAA,6BAuBE,QAAC,UAAD;AAAY,QAAA,EAAE,EAAEuB,aAAa,GAAG,KAAH,GAAW,MAAxC;AAAA,gCACE,QAAC,SAAD;AAAW,UAAA,YAAY,EAAE5D,YAAzB;AAAuC,UAAA,mBAAmB,EAAEgC;AAA5D;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAvBF;AAAA;AAAA;AAAA;AAAA,YADF,eA6BE,QAAC,OAAD;AACE,MAAA,eAAe,EAAElC,MAAM,GAAGlC,cAAH,GAAoBD,SAD7C;AAEE,MAAA,OAAO,EAAEmC,MAAM,GAAGhC,gBAAH,GAAsBD,WAFvC;AAGE,MAAA,KAAK,EAAE,CAHT;AAIE,MAAA,kBAAkB,eAChB,QAAC,eAAD;AAAiB,QAAA,cAAc,eAAE,QAAC,SAAD;AAAW,UAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,gBAAjC;AAA8D,QAAA,eAAe,EAAC,IAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA,6BAUE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE+F,aAAa,GAAG,KAAH,GAAW,CAAC,MAAD,EAAS,IAAT,EAAe,MAAf,CAAjC;AAAyD,QAAA,EAAE,EAAE,CAAC,MAAD,EAAS,IAAT,EAAe,GAAf,CAA7D;AAAA,kBAEG5D,YAAY,CAAC+B,KAAb,KAAuB1E,YAAvB,gBACC,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,gBADD,gBAGC,QAAC,SAAD;AACE,UAAA,YAAY,EAAE2C,YADhB;AAEE,UAAA,aAAa,EAAEM,sBAAsB,CAACE,aAFxC;AAGE,UAAA,sBAAsB,EAAEF,sBAH1B;AAIE,UAAA,OAAO,EAAEX,OAJX;AAKE,UAAA,OAAO,EAAEC,OALX;AAME,UAAA,SAAS,EAAEC,SANb;AAOE,UAAA,0BAA0B,EAAEmB,0BAP9B;AAQE,UAAA,kBAAkB,EAAEiB,kBARtB;AASE,UAAA,wBAAwB,EAAEC,wBAT5B;AAUE,UAAA,yBAAyB,EAAEC,yBAV7B;AAWE,UAAA,cAAc,EAAEE;AAXlB;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA;AAVF;AAAA;AAAA;AAAA;AAAA,YA7BF,eA4DE,QAAC,OAAD;AACE,MAAA,KAAK,EAAE,CADT;AAEE,MAAA,kBAAkB,eAChB,QAAC,eAAD;AAAiB,QAAA,cAAc,eAAE,QAAC,UAAD;AAAY,UAAA,KAAK,EAAC;AAAlB;AAAA;AAAA;AAAA;AAAA,gBAAjC;AAA+D,QAAA,eAAe,EAAC,IAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA,6BAQE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAC,MAAR;AAAA,+BACE,QAAC,SAAD;AACE,UAAA,2BAA2B,EAAEf,2BAD/B;AAEE,UAAA,2BAA2B,EAAEI,2BAF/B;AAGE,UAAA,2BAA2B,EAAEE,2BAH/B;AAIE,UAAA,4BAA4B,EAAEd;AAJhC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,YA5DF,eA6EE,QAAC,OAAD;AACE,MAAA,eAAe,EAAEhB,MAAM,GAAG9B,gBAAH,GAAsBD,WAD/C;AAEE,MAAA,OAAO,EAAE+B,MAAM,GAAG5B,kBAAH,GAAwBD,aAFzC;AAGE,MAAA,KAAK,EAAE,CAHT;AAIE,MAAA,cAAc,MAJhB;AAAA,6BAME,QAAC,GAAD;AAAK,QAAA,EAAE,EAAC,MAAR;AAAA,+BACE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,YA7EF,eAuFE,QAAC,OAAD;AACE,MAAA,KAAK,EAAE,CADT;AAEE,MAAA,oBAAoB,EAAC,KAFvB;AAGE,MAAA,kBAAkB,eAChB,QAAC,eAAD;AAAiB,QAAA,cAAc,eAAE,QAAC,SAAD;AAAW,UAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,gBAAjC;AAA8D,QAAA,eAAe,EAAC,IAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA,6BASE,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AATF;AAAA;AAAA;AAAA;AAAA,YAvFF,eAkGE,QAAC,OAAD;AAAS,MAAA,eAAe,EAAER,MAA1B;AAAkC,MAAA,OAAO,EAAEC,QAA3C;AAAqD,MAAA,KAAK,EAAE,CAA5D;AAA+D,MAAA,oBAAoB,EAAC,KAApF;AAAA,6BACE,QAAC,IAAD;AAAM,QAAA,UAAU,EAAC,QAAjB;AAAA,mBACGkG,aAAa,GAAG,IAAH,gBACZ,QAAC,IAAD;AAAM,UAAA,MAAM,EAAC,aAAb;AAAA,iCACE,QAAC,SAAD;AACE,YAAA,sBAAsB,EAAEtD,sBAD1B;AAEE,YAAA,YAAY,EAAEN,YAFhB;AAGE,YAAA,OAAO,EAAEL,OAHX;AAIE,YAAA,iBAAiB,EAAEmC,iBAJrB;AAKE,YAAA,mBAAmB,EAAEE,mBALvB;AAME,YAAA,kBAAkB,EAAEC,kBANtB;AAOE,YAAA,wBAAwB,EAAEC,wBAP5B;AAQE,YAAA,yBAAyB,EAAEC,yBAR7B;AASE,YAAA,OAAO,EAAEvC,OATX;AAUE,YAAA,SAAS,EAAEC,SAVb;AAWE,YAAA,iBAAiB,EAAEuC,iBAXrB;AAYE,YAAA,cAAc,EAAEC;AAZlB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAmBE,QAAC,kBAAD;AAAA,iCACE,QAAC,KAAD;AAAO,YAAA,GAAG,EAAEhE,UAAZ;AAAwB,YAAA,KAAK,EAAE,GAA/B;AAAoC,YAAA,MAAM,EAAE;AAA5C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAnBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAlGF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8HD,CAvQD;;GAAMiB,kB;UAEgB/C,Y,EACWC,U,EACZM,Q,EACgBD,6B;;;MAL/ByC,kB;AAyQN,eAAeA,kBAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { useProfile } from 'state/hooks'\nimport { Flex, Box, Image } from '@pancakeswap/uikit'\nimport styled from 'styled-components'\nimport { useTradingCompetitionContract } from 'hooks/useContract'\nimport useTheme from 'hooks/useTheme'\nimport {\n  SmartContractPhases,\n  CompetitionPhases,\n  LIVE,\n  FINISHED,\n  CLAIM,\n  OVER,\n  REGISTRATION,\n} from 'config/constants/trading-competition/easterPhases'\nimport { PrizesIcon, RanksIcon, RulesIcon } from './svgs'\nimport {\n  DARKBG,\n  DARKFILL,\n  MIDBLUEBG,\n  MIDBLUEBG_DARK,\n  MIDBLUEFILL,\n  MIDBLUEFILL_DARK,\n  LIGHTBLUEBG,\n  LIGHTBLUEBG_DARK,\n  LIGHTBLUEFILL,\n  LIGHTBLUEFILL_DARK,\n} from './components/Section/sectionStyles'\nimport Countdown from './components/Countdown'\nimport YourScore from './components/YourScore'\nimport StormBunny from './pngs/storm.png'\nimport RibbonWithImage from './components/RibbonWithImage'\nimport HowToJoin from './components/HowToJoin'\nimport BattleBanner from './components/BattleBanner'\nimport Section from './components/Section'\nimport BattleCta from './components/BattleCta'\nimport PrizesInfo from './components/PrizesInfo'\nimport Rules from './components/Rules'\nimport TeamRanks from './components/TeamRanks'\n\nconst CompetitionPage = styled.div`\n  min-height: calc(100vh - 64px);\n`\n\nconst BannerFlex = styled(Flex)`\n  flex-direction: column;\n  ${({ theme }) => theme.mediaQueries.xl} {\n    padding-top: 10px;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n  }\n\n  @media screen and (min-width: 1920px) {\n    padding-top: 32px;\n  }\n`\n\nconst BottomBunnyWrapper = styled(Box)`\n  display: none;\n\n  ${({ theme }) => theme.mediaQueries.md} {\n    display: flex;\n    margin-left: 40px;\n    width: 147px;\n    height: 200px;\n  }\n`\n\nconst TradingCompetition = () => {\n  const profileApiUrl = process.env.REACT_APP_API_PROFILE\n  const { account } = useWeb3React()\n  const { profile, isLoading } = useProfile()\n  const { isDark } = useTheme()\n  const tradingCompetitionContract = useTradingCompetitionContract()\n  const [currentPhase, setCurrentPhase] = useState(CompetitionPhases.LIVE)\n  const [registrationSuccessful, setRegistrationSuccessful] = useState(false)\n  const [claimSuccessful, setClaimSuccessful] = useState(false)\n  const [userTradingInformation, setUserTradingInformation] = useState({\n    hasRegistered: false,\n    hasUserClaimed: false,\n    userRewardGroup: '0',\n    userCakeRewards: '0',\n    userPointReward: '0',\n    canClaimNFT: false,\n  })\n  const [globalLeaderboardInformation, setGlobalLeaderboardInformation] = useState(null)\n  const [userLeaderboardInformation, setUserLeaderboardInformation] = useState({\n    global: 0,\n    team: 0,\n    volume: 0,\n    next_rank: 0,\n  })\n  // 1. Storm\n  const [team1LeaderboardInformation, setTeam1LeaderboardInformation] = useState({ teamId: 1, leaderboardData: null })\n  // 2. Flippers\n  const [team2LeaderboardInformation, setTeam2LeaderboardInformation] = useState({ teamId: 2, leaderboardData: null })\n  // 3. Cakers\n  const [team3LeaderboardInformation, setTeam3LeaderboardInformation] = useState({ teamId: 3, leaderboardData: null })\n\n  const isCompetitionLive = currentPhase.state === LIVE\n  const hasCompetitionEnded =\n    currentPhase.state === FINISHED || currentPhase.state === CLAIM || currentPhase.state === OVER\n\n  const { hasUserClaimed, userCakeRewards, userPointReward, canClaimNFT } = userTradingInformation\n\n  const userCanClaimPrizes =\n    currentPhase.state === CLAIM &&\n    !hasUserClaimed &&\n    (userCakeRewards !== '0' || userPointReward !== '0' || canClaimNFT)\n  const finishedAndPrizesClaimed = hasCompetitionEnded && account && hasUserClaimed\n  const finishedAndNothingToClaim = hasCompetitionEnded && account && !userCanClaimPrizes\n\n  const onRegisterSuccess = () => {\n    setRegistrationSuccessful(true)\n  }\n\n  const onClaimSuccess = () => {\n    setClaimSuccessful(true)\n  }\n\n  useEffect(() => {\n    const fetchCompetitionInfoContract = async () => {\n      const competitionStatus = await tradingCompetitionContract.methods.currentStatus().call()\n      setCurrentPhase(SmartContractPhases[competitionStatus])\n    }\n\n    const fetchUserContract = async () => {\n      const user = await tradingCompetitionContract.methods.claimInformation(account).call()\n      const userObject = {\n        hasRegistered: user[0],\n        hasUserClaimed: user[1],\n        userRewardGroup: user[2],\n        userCakeRewards: user[3],\n        userPointReward: user[4],\n        canClaimNFT: user[5],\n      }\n      setUserTradingInformation(userObject)\n    }\n\n    if (account) {\n      fetchUserContract()\n    } else {\n      setUserTradingInformation({\n        hasRegistered: false,\n        hasUserClaimed: false,\n        userRewardGroup: '0',\n        userCakeRewards: '0',\n        userPointReward: '0',\n        canClaimNFT: false,\n      })\n    }\n    fetchCompetitionInfoContract()\n  }, [account, registrationSuccessful, claimSuccessful, tradingCompetitionContract])\n\n  useEffect(() => {\n    const fetchUserTradingStats = async () => {\n      const res = await fetch(`${profileApiUrl}/api/users/${account}`)\n      const data = await res.json()\n      setUserLeaderboardInformation(data.leaderboard)\n    }\n    // If user has not registered, user trading information will not be displayed and should not be fetched\n    if (account && userTradingInformation.hasRegistered) {\n      fetchUserTradingStats()\n    }\n  }, [account, userTradingInformation, profileApiUrl])\n\n  useEffect(() => {\n    const fetchGlobalLeaderboardStats = async () => {\n      const res = await fetch(`${profileApiUrl}/api/leaderboard/global`)\n      const data = await res.json()\n      setGlobalLeaderboardInformation(data)\n    }\n\n    const fetchTeamsLeaderboardStats = async (teamId: number, callBack: (data: any) => void) => {\n      try {\n        const res = await fetch(`${profileApiUrl}/api/leaderboard/team/${teamId}`)\n        const data = await res.json()\n        callBack(data)\n      } catch (e) {\n        console.error(e)\n      }\n    }\n\n    fetchTeamsLeaderboardStats(1, (data) =>\n      setTeam1LeaderboardInformation((prevState) => {\n        return { ...prevState, leaderboardData: data }\n      }),\n    )\n    fetchTeamsLeaderboardStats(2, (data) =>\n      setTeam2LeaderboardInformation((prevState) => {\n        return { ...prevState, leaderboardData: data }\n      }),\n    )\n    fetchTeamsLeaderboardStats(3, (data) =>\n      setTeam3LeaderboardInformation((prevState) => {\n        return { ...prevState, leaderboardData: data }\n      }),\n    )\n    fetchGlobalLeaderboardStats()\n  }, [profileApiUrl])\n\n  // Don't hide when loading. Hide if the account is connected && the user hasn't registered && the competition is live or finished\n  const shouldHideCta =\n    !isLoading && account && !userTradingInformation.hasRegistered && (isCompetitionLive || hasCompetitionEnded)\n\n  return (\n    <CompetitionPage>\n      <Section\n        backgroundStyle={DARKBG}\n        svgFill={DARKFILL}\n        index={5}\n        intersectComponent={\n          shouldHideCta ? null : (\n            <BattleCta\n              userTradingInformation={userTradingInformation}\n              currentPhase={currentPhase}\n              account={account}\n              isCompetitionLive={isCompetitionLive}\n              hasCompetitionEnded={hasCompetitionEnded}\n              userCanClaimPrizes={userCanClaimPrizes}\n              finishedAndPrizesClaimed={finishedAndPrizesClaimed}\n              finishedAndNothingToClaim={finishedAndNothingToClaim}\n              profile={profile}\n              isLoading={isLoading}\n              onRegisterSuccess={onRegisterSuccess}\n              onClaimSuccess={onClaimSuccess}\n            />\n          )\n        }\n      >\n        <BannerFlex mb={shouldHideCta ? '0px' : '48px'}>\n          <Countdown currentPhase={currentPhase} hasCompetitionEnded={hasCompetitionEnded} />\n          <BattleBanner />\n        </BannerFlex>\n      </Section>\n      <Section\n        backgroundStyle={isDark ? MIDBLUEBG_DARK : MIDBLUEBG}\n        svgFill={isDark ? MIDBLUEFILL_DARK : MIDBLUEFILL}\n        index={4}\n        intersectComponent={\n          <RibbonWithImage imageComponent={<RanksIcon width=\"175px\" />} ribbonDirection=\"up\">\n            Team Ranks\n          </RibbonWithImage>\n        }\n      >\n        <Box mt={shouldHideCta ? '0px' : ['94px', null, '36px']} mb={['24px', null, '0']}>\n          {/* If competition has not yet started, render HowToJoin component - if not, render YourScore */}\n          {currentPhase.state === REGISTRATION ? (\n            <HowToJoin />\n          ) : (\n            <YourScore\n              currentPhase={currentPhase}\n              hasRegistered={userTradingInformation.hasRegistered}\n              userTradingInformation={userTradingInformation}\n              account={account}\n              profile={profile}\n              isLoading={isLoading}\n              userLeaderboardInformation={userLeaderboardInformation}\n              userCanClaimPrizes={userCanClaimPrizes}\n              finishedAndPrizesClaimed={finishedAndPrizesClaimed}\n              finishedAndNothingToClaim={finishedAndNothingToClaim}\n              onClaimSuccess={onClaimSuccess}\n            />\n          )}\n        </Box>\n      </Section>\n      <Section\n        index={3}\n        intersectComponent={\n          <RibbonWithImage imageComponent={<PrizesIcon width=\"175px\" />} ribbonDirection=\"up\">\n            Prizes\n          </RibbonWithImage>\n        }\n      >\n        <Box mt=\"54px\">\n          <TeamRanks\n            team1LeaderboardInformation={team1LeaderboardInformation}\n            team2LeaderboardInformation={team2LeaderboardInformation}\n            team3LeaderboardInformation={team3LeaderboardInformation}\n            globalLeaderboardInformation={globalLeaderboardInformation}\n          />\n        </Box>\n      </Section>\n      <Section\n        backgroundStyle={isDark ? LIGHTBLUEBG_DARK : LIGHTBLUEBG}\n        svgFill={isDark ? LIGHTBLUEFILL_DARK : LIGHTBLUEFILL}\n        index={2}\n        noIntersection\n      >\n        <Box mb=\"78px\">\n          <PrizesInfo />\n        </Box>\n      </Section>\n      <Section\n        index={3}\n        intersectionPosition=\"top\"\n        intersectComponent={\n          <RibbonWithImage imageComponent={<RulesIcon width=\"175px\" />} ribbonDirection=\"up\">\n            Rules\n          </RibbonWithImage>\n        }\n      >\n        <Rules />\n      </Section>\n      <Section backgroundStyle={DARKBG} svgFill={DARKFILL} index={4} intersectionPosition=\"top\">\n        <Flex alignItems=\"center\">\n          {shouldHideCta ? null : (\n            <Flex height=\"fit-content\">\n              <BattleCta\n                userTradingInformation={userTradingInformation}\n                currentPhase={currentPhase}\n                account={account}\n                isCompetitionLive={isCompetitionLive}\n                hasCompetitionEnded={hasCompetitionEnded}\n                userCanClaimPrizes={userCanClaimPrizes}\n                finishedAndPrizesClaimed={finishedAndPrizesClaimed}\n                finishedAndNothingToClaim={finishedAndNothingToClaim}\n                profile={profile}\n                isLoading={isLoading}\n                onRegisterSuccess={onRegisterSuccess}\n                onClaimSuccess={onClaimSuccess}\n              />\n            </Flex>\n          )}\n          <BottomBunnyWrapper>\n            <Image src={StormBunny} width={147} height={200} />\n          </BottomBunnyWrapper>\n        </Flex>\n      </Section>\n    </CompetitionPage>\n  )\n}\n\nexport default TradingCompetition\n"]},"metadata":{},"sourceType":"module"}