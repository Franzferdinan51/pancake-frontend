{"ast":null,"code":"var _jsxFileName = \"/home/duckets/Documents/pancake-frontend-1/src/views/TradingCompetition/components/ClaimModal/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useWeb3React } from '@web3-react/core';\nimport styled from 'styled-components';\nimport { Modal, Button, Flex, AutoRenewIcon, Heading, Text, Image, CrownIcon, TrophyGoldIcon, TeamPlayerIcon } from '@pancakeswap/uikit';\nimport { useTranslation } from 'contexts/Localization';\nimport { useTradingCompetitionContract } from 'hooks/useContract';\nimport useToast from 'hooks/useToast';\nimport { useCompetitionCakeRewards, getRewardGroupAchievements } from '../../helpers';\nimport NftBunnies from '../../pngs/syrup-nft.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageWrapper = styled(Flex)`\n  justify-content: center;\n  width: 100%;\n  height: fit-content;\n  img {\n    border-radius: ${({\n  theme\n}) => theme.radii.default};\n  }\n`;\n_c = ImageWrapper;\n\nconst ClaimModal = ({\n  onDismiss,\n  onClaimSuccess,\n  userTradingInformation\n}) => {\n  _s();\n\n  const [isConfirming, setIsConfirming] = useState(false);\n  const tradingCompetitionContract = useTradingCompetitionContract();\n  const {\n    account\n  } = useWeb3React();\n  const {\n    toastSuccess,\n    toastError\n  } = useToast();\n  const {\n    t\n  } = useTranslation();\n  const {\n    userRewardGroup,\n    userCakeRewards,\n    userPointReward,\n    canClaimNFT\n  } = userTradingInformation;\n  const {\n    cakeReward\n  } = useCompetitionCakeRewards(userCakeRewards);\n  const {\n    champion,\n    teamPlayer\n  } = getRewardGroupAchievements(userRewardGroup);\n\n  const handleClaimClick = () => {\n    tradingCompetitionContract.methods.claimReward().send({\n      from: account\n    }).on('sending', () => {\n      setIsConfirming(true);\n    }).on('receipt', async () => {\n      toastSuccess('You have claimed your rewards!');\n      onDismiss();\n      onClaimSuccess();\n    }).on('error', error => {\n      toastError('Error', error === null || error === void 0 ? void 0 : error.message);\n      setIsConfirming(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    title: t('Collect Winnings'),\n    onDismiss: onDismiss,\n    children: /*#__PURE__*/_jsxDEV(Flex, {\n      width: \"100%\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      maxWidth: \"360px\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        color: \"secondary\",\n        bold: true,\n        fontSize: \"16px\",\n        children: [t('Congratulations! You won'), \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        mt: \"16px\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(TrophyGoldIcon, {\n          mr: [0, '4px']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), champion && /*#__PURE__*/_jsxDEV(CrownIcon, {\n          mr: [0, '4px']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 24\n        }, this), teamPlayer && /*#__PURE__*/_jsxDEV(TeamPlayerIcon, {\n          mr: [0, '4px']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          ml: ['4px', '8px'],\n          children: [\"+\", userPointReward, \" \", t('Points')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Heading, {\n        mt: \"16px\",\n        scale: \"md\",\n        mb: canClaimNFT ? '16px' : '0px',\n        children: [cakeReward.toFixed(2), \" CAKE\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), canClaimNFT ? /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        children: [/*#__PURE__*/_jsxDEV(ImageWrapper, {\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: NftBunnies,\n            width: 128,\n            height: 128\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          mt: \"8px\",\n          fontSize: \"16px\",\n          children: t('Collectible NFT')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(Button, {\n        mt: \"24px\",\n        width: \"100%\",\n        onClick: handleClaimClick,\n        disabled: isConfirming,\n        isLoading: isConfirming,\n        endIcon: isConfirming ? /*#__PURE__*/_jsxDEV(AutoRenewIcon, {\n          spin: true,\n          color: \"currentColor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 35\n        }, this) : null,\n        children: t('Confirm')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        mt: \"24px\",\n        fontSize: \"12px\",\n        color: \"textSubtle\",\n        textAlign: \"center\",\n        children: t('All prizes will be sent directly to your wallet and user account.')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ClaimModal, \"UkLMtvFAhVE2fgqD21/BlBjAFKw=\", false, function () {\n  return [useTradingCompetitionContract, useWeb3React, useToast, useTranslation, useCompetitionCakeRewards];\n});\n\n_c2 = ClaimModal;\nexport default ClaimModal;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ImageWrapper\");\n$RefreshReg$(_c2, \"ClaimModal\");","map":{"version":3,"sources":["/home/duckets/Documents/pancake-frontend-1/src/views/TradingCompetition/components/ClaimModal/index.tsx"],"names":["React","useState","useWeb3React","styled","Modal","Button","Flex","AutoRenewIcon","Heading","Text","Image","CrownIcon","TrophyGoldIcon","TeamPlayerIcon","useTranslation","useTradingCompetitionContract","useToast","useCompetitionCakeRewards","getRewardGroupAchievements","NftBunnies","ImageWrapper","theme","radii","default","ClaimModal","onDismiss","onClaimSuccess","userTradingInformation","isConfirming","setIsConfirming","tradingCompetitionContract","account","toastSuccess","toastError","t","userRewardGroup","userCakeRewards","userPointReward","canClaimNFT","cakeReward","champion","teamPlayer","handleClaimClick","methods","claimReward","send","from","on","error","message","toFixed"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport styled from 'styled-components'\nimport {\n  Modal,\n  Button,\n  Flex,\n  AutoRenewIcon,\n  Heading,\n  Text,\n  Image,\n  CrownIcon,\n  TrophyGoldIcon,\n  TeamPlayerIcon,\n} from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { useTradingCompetitionContract } from 'hooks/useContract'\nimport useToast from 'hooks/useToast'\nimport { useCompetitionCakeRewards, getRewardGroupAchievements } from '../../helpers'\nimport { CompetitionProps } from '../../types'\nimport NftBunnies from '../../pngs/syrup-nft.png'\n\nconst ImageWrapper = styled(Flex)`\n  justify-content: center;\n  width: 100%;\n  height: fit-content;\n  img {\n    border-radius: ${({ theme }) => theme.radii.default};\n  }\n`\n\nconst ClaimModal: React.FC<CompetitionProps> = ({ onDismiss, onClaimSuccess, userTradingInformation }) => {\n  const [isConfirming, setIsConfirming] = useState(false)\n  const tradingCompetitionContract = useTradingCompetitionContract()\n  const { account } = useWeb3React()\n  const { toastSuccess, toastError } = useToast()\n  const { t } = useTranslation()\n\n  const { userRewardGroup, userCakeRewards, userPointReward, canClaimNFT } = userTradingInformation\n  const { cakeReward } = useCompetitionCakeRewards(userCakeRewards)\n  const { champion, teamPlayer } = getRewardGroupAchievements(userRewardGroup)\n\n  const handleClaimClick = () => {\n    tradingCompetitionContract.methods\n      .claimReward()\n      .send({ from: account })\n      .on('sending', () => {\n        setIsConfirming(true)\n      })\n      .on('receipt', async () => {\n        toastSuccess('You have claimed your rewards!')\n        onDismiss()\n        onClaimSuccess()\n      })\n      .on('error', (error) => {\n        toastError('Error', error?.message)\n        setIsConfirming(false)\n      })\n  }\n\n  return (\n    <Modal title={t('Collect Winnings')} onDismiss={onDismiss}>\n      <Flex width=\"100%\" flexDirection=\"column\" alignItems=\"center\" justifyContent=\"center\" maxWidth=\"360px\">\n        <Text color=\"secondary\" bold fontSize=\"16px\">\n          {t('Congratulations! You won')}:\n        </Text>\n        <Flex mt=\"16px\" alignItems=\"center\">\n          {/* achievements */}\n          <TrophyGoldIcon mr={[0, '4px']} />\n          {champion && <CrownIcon mr={[0, '4px']} />}\n          {teamPlayer && <TeamPlayerIcon mr={[0, '4px']} />}\n          <Text ml={['4px', '8px']}>\n            +{userPointReward} {t('Points')}\n          </Text>\n        </Flex>\n        {/* cake */}\n        <Heading mt=\"16px\" scale=\"md\" mb={canClaimNFT ? '16px' : '0px'}>\n          {cakeReward.toFixed(2)} CAKE\n        </Heading>\n        {/* NFT */}\n        {canClaimNFT ? (\n          <Flex alignItems=\"center\" flexDirection=\"column\" width=\"100%\">\n            <ImageWrapper>\n              <Image src={NftBunnies} width={128} height={128} />\n            </ImageWrapper>\n            <Text mt=\"8px\" fontSize=\"16px\">\n              {t('Collectible NFT')}\n            </Text>\n          </Flex>\n        ) : null}\n        <Button\n          mt=\"24px\"\n          width=\"100%\"\n          onClick={handleClaimClick}\n          disabled={isConfirming}\n          isLoading={isConfirming}\n          endIcon={isConfirming ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n        >\n          {t('Confirm')}\n        </Button>\n        <Text mt=\"24px\" fontSize=\"12px\" color=\"textSubtle\" textAlign=\"center\">\n          {t('All prizes will be sent directly to your wallet and user account.')}\n        </Text>\n      </Flex>\n    </Modal>\n  )\n}\n\nexport default ClaimModal\n"]},"metadata":{},"sourceType":"module"}